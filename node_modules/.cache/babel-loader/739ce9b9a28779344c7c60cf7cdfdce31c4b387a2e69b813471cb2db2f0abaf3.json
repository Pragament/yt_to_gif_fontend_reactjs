{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ksais\\\\OneDrive\\\\Desktop\\\\YOTUBE\\\\frontend\\\\yt_to_gif_fontend_reactjs\\\\src\\\\components\\\\VideoPreview.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, memo } from 'react';\nimport ReactPlayer from 'react-player';\nimport './VideoPreview.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VideoPreviewComponent({\n  videoUrl,\n  videoStatus,\n  onDimensionsChange,\n  lineOverlays,\n  dragEnabled = false,\n  dragRegions = [],\n  onDragRegionsChange,\n  videoDimensions,\n  onLinePositionUpdate,\n  cropMethod\n}) {\n  _s();\n  var _lineOverlays$horizon, _lineOverlays$vertica;\n  const playerRef = useRef(null);\n  const containerRef = useRef(null);\n  const videoElementRef = useRef(null);\n  const [videoBounds, setVideoBounds] = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    scaleX: 1,\n    scaleY: 1\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [currentDrag, setCurrentDrag] = useState(null);\n\n  // Line dragging state\n  const [draggingLine, setDraggingLine] = useState(null);\n  const [draggingLineType, setDraggingLineType] = useState(null);\n  const [draggingLineIndex, setDraggingLineIndex] = useState(null);\n  const boundsInitializedRef = useRef(false);\n\n  /* =========================================\n     Capture video element + natural dimensions\n  ========================================= */\n  useEffect(() => {\n    if (!videoUrl || !playerRef.current) return;\n    const detectVideo = () => {\n      var _player$querySelector;\n      const player = playerRef.current.getInternalPlayer();\n      const video = (player === null || player === void 0 ? void 0 : player.tagName) === 'VIDEO' ? player : player === null || player === void 0 ? void 0 : (_player$querySelector = player.querySelector) === null || _player$querySelector === void 0 ? void 0 : _player$querySelector.call(player, 'video');\n      if (video && video.videoWidth && video.videoHeight) {\n        videoElementRef.current = video;\n        onDimensionsChange({\n          width: video.videoWidth,\n          height: video.videoHeight\n        });\n      }\n    };\n    detectVideo();\n    const observer = new MutationObserver(detectVideo);\n    if (containerRef.current) {\n      observer.observe(containerRef.current, {\n        childList: true,\n        subtree: true\n      });\n    }\n    return () => observer.disconnect();\n  }, [videoUrl, onDimensionsChange]);\n\n  /* =========================================\n     Calculate rendered video bounds (ONCE)\n  ========================================= */\n  const calculateVideoBounds = () => {\n    var _videoElementRef$curr;\n    if (!containerRef.current || !videoDimensions.width || !videoDimensions.height) return;\n    const containerRect = containerRef.current.getBoundingClientRect();\n    const videoRect = (_videoElementRef$curr = videoElementRef.current) === null || _videoElementRef$curr === void 0 ? void 0 : _videoElementRef$curr.getBoundingClientRect();\n    let x, y, width, height;\n    if (videoRect !== null && videoRect !== void 0 && videoRect.width && videoRect !== null && videoRect !== void 0 && videoRect.height) {\n      x = videoRect.left - containerRect.left;\n      y = videoRect.top - containerRect.top;\n      width = videoRect.width;\n      height = videoRect.height;\n    } else {\n      const videoAspect = videoDimensions.width / videoDimensions.height;\n      const containerAspect = containerRect.width / containerRect.height;\n      if (videoAspect > containerAspect) {\n        width = containerRect.width;\n        height = width / videoAspect;\n        x = 0;\n        y = (containerRect.height - height) / 2;\n      } else {\n        height = containerRect.height;\n        width = height * videoAspect;\n        x = (containerRect.width - width) / 2;\n        y = 0;\n      }\n    }\n    const scaleX = width / videoDimensions.width;\n    const scaleY = height / videoDimensions.height;\n    setVideoBounds({\n      x,\n      y,\n      width,\n      height,\n      scaleX,\n      scaleY\n    });\n    boundsInitializedRef.current = true;\n  };\n  useEffect(() => {\n    if (!videoUrl || !videoDimensions.width || !videoDimensions.height) {\n      boundsInitializedRef.current = false;\n      return;\n    }\n    setTimeout(calculateVideoBounds, 200);\n    window.addEventListener('resize', calculateVideoBounds);\n    return () => window.removeEventListener('resize', calculateVideoBounds);\n  }, [videoUrl, videoDimensions.width, videoDimensions.height]);\n\n  /* =========================================\n     Coordinate conversion (screen → video px)\n  ========================================= */\n  const screenToVideoCoords = (clientX, clientY) => {\n    const rect = containerRef.current.getBoundingClientRect();\n    const x = (clientX - rect.left - videoBounds.x) / videoBounds.scaleX;\n    const y = (clientY - rect.top - videoBounds.y) / videoBounds.scaleY;\n    return {\n      x: Math.max(0, Math.min(videoDimensions.width, x)),\n      y: Math.max(0, Math.min(videoDimensions.height, y))\n    };\n  };\n\n  /* =========================================\n     Drag handlers\n  ========================================= */\n  const handleMouseDown = e => {\n    if (e.button !== 0) return;\n\n    // Check if clicking on a line (for line-based cropping)\n    if (cropMethod === 'lines' && lineOverlays && videoBounds.width > 0) {\n      const rect = containerRef.current.getBoundingClientRect();\n      const clickX = e.clientX - rect.left - videoBounds.x;\n      const clickY = e.clientY - rect.top - videoBounds.y;\n\n      // Check horizontal lines\n      if (lineOverlays.horizontal) {\n        for (let i = 0; i < lineOverlays.horizontal.length; i++) {\n          const lineY = lineOverlays.horizontal[i] * videoBounds.scaleY;\n          if (Math.abs(clickY - lineY) < 10) {\n            setDraggingLine(lineY);\n            setDraggingLineType('horizontal');\n            setDraggingLineIndex(i);\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n        }\n      }\n\n      // Check vertical lines\n      if (lineOverlays.vertical) {\n        for (let i = 0; i < lineOverlays.vertical.length; i++) {\n          const lineX = lineOverlays.vertical[i] * videoBounds.scaleX;\n          if (Math.abs(clickX - lineX) < 10) {\n            setDraggingLine(lineX);\n            setDraggingLineType('vertical');\n            setDraggingLineIndex(i);\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n        }\n      }\n    }\n\n    // Drag-based cropping\n    if (dragEnabled) {\n      const start = screenToVideoCoords(e.clientX, e.clientY);\n      setDragStart(start);\n      setCurrentDrag({\n        ...start,\n        width: 0,\n        height: 0\n      });\n      setIsDragging(true);\n    }\n  };\n  const handleMouseMove = e => {\n    // Handle line dragging\n    if (draggingLine !== null && draggingLineType && draggingLineIndex !== null && onLinePositionUpdate) {\n      const rect = containerRef.current.getBoundingClientRect();\n      const videoCoords = screenToVideoCoords(e.clientX, e.clientY);\n      if (draggingLineType === 'horizontal') {\n        const newY = Math.max(0, Math.min(videoDimensions.height, videoCoords.y));\n        onLinePositionUpdate('horizontal', draggingLineIndex, newY);\n      } else if (draggingLineType === 'vertical') {\n        const newX = Math.max(0, Math.min(videoDimensions.width, videoCoords.x));\n        onLinePositionUpdate('vertical', draggingLineIndex, newX);\n      }\n      return;\n    }\n\n    // Drag-based cropping\n    if (isDragging && dragStart) {\n      const current = screenToVideoCoords(e.clientX, e.clientY);\n      setCurrentDrag({\n        x: Math.min(dragStart.x, current.x),\n        y: Math.min(dragStart.y, current.y),\n        width: Math.abs(current.x - dragStart.x),\n        height: Math.abs(current.y - dragStart.y)\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    // End line dragging\n    if (draggingLine !== null) {\n      setDraggingLine(null);\n      setDraggingLineType(null);\n      setDraggingLineIndex(null);\n      return;\n    }\n\n    // Drag-based cropping\n    if (isDragging && (currentDrag === null || currentDrag === void 0 ? void 0 : currentDrag.width) > 10 && (currentDrag === null || currentDrag === void 0 ? void 0 : currentDrag.height) > 10) {\n      onDragRegionsChange === null || onDragRegionsChange === void 0 ? void 0 : onDragRegionsChange([...dragRegions, {\n        x: Math.round(currentDrag.x),\n        y: Math.round(currentDrag.y),\n        width: Math.round(currentDrag.width),\n        height: Math.round(currentDrag.height)\n      }]);\n    }\n    setIsDragging(false);\n    setDragStart(null);\n    setCurrentDrag(null);\n  };\n  const removeDragRegion = index => onDragRegionsChange === null || onDragRegionsChange === void 0 ? void 0 : onDragRegionsChange(dragRegions.filter((_, i) => i !== index));\n\n  /* =========================================\n     Placeholder\n  ========================================= */\n  if (!videoUrl || (videoStatus === null || videoStatus === void 0 ? void 0 : videoStatus.status) !== 'ready') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card video-preview-placeholder\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Video Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"placeholder-content\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Download or upload a video to see preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this);\n  }\n\n  /* =========================================\n     Render\n  ========================================= */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card video-preview\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Video Preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), dragEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drag-instructions-overlay\",\n      children: \"Click and drag on the video to create crop regions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: `video-container ${dragEnabled ? 'drag-enabled' : ''}`,\n      onMouseDown: handleMouseDown,\n      onMouseMove: handleMouseMove,\n      onMouseUp: handleMouseUp,\n      onMouseLeave: handleMouseUp,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-overlay-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(ReactPlayer, {\n          ref: playerRef,\n          url: videoUrl,\n          controls: true,\n          width: \"100%\",\n          height: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), !dragEnabled && lineOverlays && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"line-overlays\",\n          style: {\n            left: videoBounds.x,\n            top: videoBounds.y,\n            width: videoBounds.width,\n            height: videoBounds.height\n          },\n          children: [(_lineOverlays$horizon = lineOverlays.horizontal) === null || _lineOverlays$horizon === void 0 ? void 0 : _lineOverlays$horizon.map((y, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-line horizontal-line\",\n            style: {\n              top: y\n            }\n          }, `h-${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this)), (_lineOverlays$vertica = lineOverlays.vertical) === null || _lineOverlays$vertica === void 0 ? void 0 : _lineOverlays$vertica.map((x, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-line vertical-line\",\n            style: {\n              left: x\n            }\n          }, `v-${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), dragEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drag-overlays\",\n          style: {\n            left: videoBounds.x,\n            top: videoBounds.y,\n            width: videoBounds.width,\n            height: videoBounds.height\n          },\n          children: [dragRegions.map((r, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"drag-region\",\n            style: {\n              left: r.x * videoBounds.scaleX,\n              top: r.y * videoBounds.scaleY,\n              width: r.width * videoBounds.scaleX,\n              height: r.height * videoBounds.scaleY\n            },\n            onContextMenu: e => {\n              e.preventDefault();\n              removeDragRegion(i);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"drag-region-label\",\n              children: i + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)), isDragging && currentDrag && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"drag-region dragging\",\n            style: {\n              left: currentDrag.x * videoBounds.scaleX,\n              top: currentDrag.y * videoBounds.scaleY,\n              width: currentDrag.width * videoBounds.scaleX,\n              height: currentDrag.height * videoBounds.scaleY\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n}\n_s(VideoPreviewComponent, \"5ITwEoz1lnfCAgdvrTaQ3IlSmdc=\");\n_c = VideoPreviewComponent;\nexport default _c2 = /*#__PURE__*/memo(VideoPreviewComponent);\nvar _c, _c2;\n$RefreshReg$(_c, \"VideoPreviewComponent\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useRef","useEffect","useState","memo","ReactPlayer","jsxDEV","_jsxDEV","VideoPreviewComponent","videoUrl","videoStatus","onDimensionsChange","lineOverlays","dragEnabled","dragRegions","onDragRegionsChange","videoDimensions","onLinePositionUpdate","cropMethod","_s","_lineOverlays$horizon","_lineOverlays$vertica","playerRef","containerRef","videoElementRef","videoBounds","setVideoBounds","x","y","width","height","scaleX","scaleY","isDragging","setIsDragging","dragStart","setDragStart","currentDrag","setCurrentDrag","draggingLine","setDraggingLine","draggingLineType","setDraggingLineType","draggingLineIndex","setDraggingLineIndex","boundsInitializedRef","current","detectVideo","_player$querySelector","player","getInternalPlayer","video","tagName","querySelector","call","videoWidth","videoHeight","observer","MutationObserver","observe","childList","subtree","disconnect","calculateVideoBounds","_videoElementRef$curr","containerRect","getBoundingClientRect","videoRect","left","top","videoAspect","containerAspect","setTimeout","window","addEventListener","removeEventListener","screenToVideoCoords","clientX","clientY","rect","Math","max","min","handleMouseDown","e","button","clickX","clickY","horizontal","i","length","lineY","abs","preventDefault","stopPropagation","vertical","lineX","start","handleMouseMove","videoCoords","newY","newX","handleMouseUp","round","removeDragRegion","index","filter","_","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","url","controls","style","map","r","onContextMenu","_c","_c2","$RefreshReg$"],"sources":["C:/Users/ksais/OneDrive/Desktop/YOTUBE/frontend/yt_to_gif_fontend_reactjs/src/components/VideoPreview.js"],"sourcesContent":["import React, { useRef, useEffect, useState, memo } from 'react';\nimport ReactPlayer from 'react-player';\nimport './VideoPreview.css';\n\nfunction VideoPreviewComponent({\n  videoUrl,\n  videoStatus,\n  onDimensionsChange,\n  lineOverlays,\n  dragEnabled = false,\n  dragRegions = [],\n  onDragRegionsChange,\n  videoDimensions,\n  onLinePositionUpdate,\n  cropMethod\n}) {\n  const playerRef = useRef(null);\n  const containerRef = useRef(null);\n  const videoElementRef = useRef(null);\n\n  const [videoBounds, setVideoBounds] = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    scaleX: 1,\n    scaleY: 1\n  });\n\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState(null);\n  const [currentDrag, setCurrentDrag] = useState(null);\n\n  // Line dragging state\n  const [draggingLine, setDraggingLine] = useState(null);\n  const [draggingLineType, setDraggingLineType] = useState(null);\n  const [draggingLineIndex, setDraggingLineIndex] = useState(null);\n\n  const boundsInitializedRef = useRef(false);\n\n  /* =========================================\n     Capture video element + natural dimensions\n  ========================================= */\n  useEffect(() => {\n    if (!videoUrl || !playerRef.current) return;\n\n    const detectVideo = () => {\n      const player = playerRef.current.getInternalPlayer();\n      const video =\n        player?.tagName === 'VIDEO'\n          ? player\n          : player?.querySelector?.('video');\n\n      if (video && video.videoWidth && video.videoHeight) {\n        videoElementRef.current = video;\n        onDimensionsChange({\n          width: video.videoWidth,\n          height: video.videoHeight\n        });\n      }\n    };\n\n    detectVideo();\n\n    const observer = new MutationObserver(detectVideo);\n    if (containerRef.current) {\n      observer.observe(containerRef.current, {\n        childList: true,\n        subtree: true\n      });\n    }\n\n    return () => observer.disconnect();\n  }, [videoUrl, onDimensionsChange]);\n\n  /* =========================================\n     Calculate rendered video bounds (ONCE)\n  ========================================= */\n  const calculateVideoBounds = () => {\n    if (!containerRef.current || !videoDimensions.width || !videoDimensions.height) return;\n\n    const containerRect = containerRef.current.getBoundingClientRect();\n    const videoRect = videoElementRef.current?.getBoundingClientRect();\n\n    let x, y, width, height;\n\n    if (videoRect?.width && videoRect?.height) {\n      x = videoRect.left - containerRect.left;\n      y = videoRect.top - containerRect.top;\n      width = videoRect.width;\n      height = videoRect.height;\n    } else {\n      const videoAspect = videoDimensions.width / videoDimensions.height;\n      const containerAspect = containerRect.width / containerRect.height;\n\n      if (videoAspect > containerAspect) {\n        width = containerRect.width;\n        height = width / videoAspect;\n        x = 0;\n        y = (containerRect.height - height) / 2;\n      } else {\n        height = containerRect.height;\n        width = height * videoAspect;\n        x = (containerRect.width - width) / 2;\n        y = 0;\n      }\n    }\n\n    const scaleX = width / videoDimensions.width;\n    const scaleY = height / videoDimensions.height;\n\n    setVideoBounds({\n      x,\n      y,\n      width,\n      height,\n      scaleX,\n      scaleY\n    });\n\n    boundsInitializedRef.current = true;\n  };\n\n  useEffect(() => {\n    if (!videoUrl || !videoDimensions.width || !videoDimensions.height) {\n      boundsInitializedRef.current = false;\n      return;\n    }\n\n    setTimeout(calculateVideoBounds, 200);\n    window.addEventListener('resize', calculateVideoBounds);\n\n    return () => window.removeEventListener('resize', calculateVideoBounds);\n  }, [videoUrl, videoDimensions.width, videoDimensions.height]);\n\n  /* =========================================\n     Coordinate conversion (screen → video px)\n  ========================================= */\n  const screenToVideoCoords = (clientX, clientY) => {\n    const rect = containerRef.current.getBoundingClientRect();\n\n    const x =\n      (clientX - rect.left - videoBounds.x) / videoBounds.scaleX;\n    const y =\n      (clientY - rect.top - videoBounds.y) / videoBounds.scaleY;\n\n    return {\n      x: Math.max(0, Math.min(videoDimensions.width, x)),\n      y: Math.max(0, Math.min(videoDimensions.height, y))\n    };\n  };\n\n  /* =========================================\n     Drag handlers\n  ========================================= */\n  const handleMouseDown = e => {\n    if (e.button !== 0) return;\n\n    // Check if clicking on a line (for line-based cropping)\n    if (cropMethod === 'lines' && lineOverlays && videoBounds.width > 0) {\n      const rect = containerRef.current.getBoundingClientRect();\n      const clickX = e.clientX - rect.left - videoBounds.x;\n      const clickY = e.clientY - rect.top - videoBounds.y;\n\n      // Check horizontal lines\n      if (lineOverlays.horizontal) {\n        for (let i = 0; i < lineOverlays.horizontal.length; i++) {\n          const lineY = lineOverlays.horizontal[i] * videoBounds.scaleY;\n          if (Math.abs(clickY - lineY) < 10) {\n            setDraggingLine(lineY);\n            setDraggingLineType('horizontal');\n            setDraggingLineIndex(i);\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n        }\n      }\n\n      // Check vertical lines\n      if (lineOverlays.vertical) {\n        for (let i = 0; i < lineOverlays.vertical.length; i++) {\n          const lineX = lineOverlays.vertical[i] * videoBounds.scaleX;\n          if (Math.abs(clickX - lineX) < 10) {\n            setDraggingLine(lineX);\n            setDraggingLineType('vertical');\n            setDraggingLineIndex(i);\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n        }\n      }\n    }\n\n    // Drag-based cropping\n    if (dragEnabled) {\n      const start = screenToVideoCoords(e.clientX, e.clientY);\n      setDragStart(start);\n      setCurrentDrag({ ...start, width: 0, height: 0 });\n      setIsDragging(true);\n    }\n  };\n\n  const handleMouseMove = e => {\n    // Handle line dragging\n    if (draggingLine !== null && draggingLineType && draggingLineIndex !== null && onLinePositionUpdate) {\n      const rect = containerRef.current.getBoundingClientRect();\n      const videoCoords = screenToVideoCoords(e.clientX, e.clientY);\n      \n      if (draggingLineType === 'horizontal') {\n        const newY = Math.max(0, Math.min(videoDimensions.height, videoCoords.y));\n        onLinePositionUpdate('horizontal', draggingLineIndex, newY);\n      } else if (draggingLineType === 'vertical') {\n        const newX = Math.max(0, Math.min(videoDimensions.width, videoCoords.x));\n        onLinePositionUpdate('vertical', draggingLineIndex, newX);\n      }\n      return;\n    }\n\n    // Drag-based cropping\n    if (isDragging && dragStart) {\n      const current = screenToVideoCoords(e.clientX, e.clientY);\n\n      setCurrentDrag({\n        x: Math.min(dragStart.x, current.x),\n        y: Math.min(dragStart.y, current.y),\n        width: Math.abs(current.x - dragStart.x),\n        height: Math.abs(current.y - dragStart.y)\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    // End line dragging\n    if (draggingLine !== null) {\n      setDraggingLine(null);\n      setDraggingLineType(null);\n      setDraggingLineIndex(null);\n      return;\n    }\n\n    // Drag-based cropping\n    if (isDragging && currentDrag?.width > 10 && currentDrag?.height > 10) {\n      onDragRegionsChange?.([\n        ...dragRegions,\n        {\n          x: Math.round(currentDrag.x),\n          y: Math.round(currentDrag.y),\n          width: Math.round(currentDrag.width),\n          height: Math.round(currentDrag.height)\n        }\n      ]);\n    }\n\n    setIsDragging(false);\n    setDragStart(null);\n    setCurrentDrag(null);\n  };\n\n  const removeDragRegion = index =>\n    onDragRegionsChange?.(dragRegions.filter((_, i) => i !== index));\n\n  /* =========================================\n     Placeholder\n  ========================================= */\n  if (!videoUrl || videoStatus?.status !== 'ready') {\n    return (\n      <div className=\"card video-preview-placeholder\">\n        <h2>Video Preview</h2>\n        <div className=\"placeholder-content\">\n          <p>Download or upload a video to see preview</p>\n        </div>\n      </div>\n    );\n  }\n\n  /* =========================================\n     Render\n  ========================================= */\n  return (\n    <div className=\"card video-preview\">\n      <h2>Video Preview</h2>\n\n      {/* Floating instructions (NO layout shift) */}\n      {dragEnabled && (\n        <div className=\"drag-instructions-overlay\">\n          Click and drag on the video to create crop regions.\n        </div>\n      )}\n\n      <div\n        ref={containerRef}\n        className={`video-container ${dragEnabled ? 'drag-enabled' : ''}`}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseLeave={handleMouseUp}\n      >\n        <div className=\"video-overlay-wrapper\">\n          <ReactPlayer\n            ref={playerRef}\n            url={videoUrl}\n            controls\n            width=\"100%\"\n            height=\"100%\"\n          />\n\n          {/* Line-based cropping */}\n          {!dragEnabled && lineOverlays && (\n            <div\n              className=\"line-overlays\"\n              style={{\n                left: videoBounds.x,\n                top: videoBounds.y,\n                width: videoBounds.width,\n                height: videoBounds.height\n              }}\n            >\n              {lineOverlays.horizontal?.map((y, i) => (\n                <div\n                  key={`h-${i}`}\n                  className=\"overlay-line horizontal-line\"\n                  style={{ top: y }}\n                />\n              ))}\n              {lineOverlays.vertical?.map((x, i) => (\n                <div\n                  key={`v-${i}`}\n                  className=\"overlay-line vertical-line\"\n                  style={{ left: x }}\n                />\n              ))}\n            </div>\n          )}\n\n          {/* Drag-based cropping */}\n          {dragEnabled && (\n            <div\n              className=\"drag-overlays\"\n              style={{\n                left: videoBounds.x,\n                top: videoBounds.y,\n                width: videoBounds.width,\n                height: videoBounds.height\n              }}\n            >\n              {dragRegions.map((r, i) => (\n                <div\n                  key={i}\n                  className=\"drag-region\"\n                  style={{\n                    left: r.x * videoBounds.scaleX,\n                    top: r.y * videoBounds.scaleY,\n                    width: r.width * videoBounds.scaleX,\n                    height: r.height * videoBounds.scaleY\n                  }}\n                  onContextMenu={e => {\n                    e.preventDefault();\n                    removeDragRegion(i);\n                  }}\n                >\n                  <div className=\"drag-region-label\">{i + 1}</div>\n                </div>\n              ))}\n\n              {isDragging && currentDrag && (\n                <div\n                  className=\"drag-region dragging\"\n                  style={{\n                    left: currentDrag.x * videoBounds.scaleX,\n                    top: currentDrag.y * videoBounds.scaleY,\n                    width: currentDrag.width * videoBounds.scaleX,\n                    height: currentDrag.height * videoBounds.scaleY\n                  }}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(VideoPreviewComponent);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}